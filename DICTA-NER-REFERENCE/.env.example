# Hebrew NER Service Configuration
# Copy this file to .env and adjust values as needed

# ============================================================
# Service Configuration
# ============================================================
SERVICE_PORT=8000
SERVICE_HOST=0.0.0.0
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================================
# Model Configuration
# ============================================================
# Primary model for Hebrew NER
MODEL_NAME=dicta-il/dictabert-ner

# Alternative models (comment/uncomment as needed):
# For NeoDictaBERT (newer, better performance, released Jan 2025):
# MODEL_NAME=dicta-il/neodictabert
# For older HeBERT-NER:
# MODEL_NAME=avichr/heBERT_NER

# Model loading timeout (seconds)
MODEL_LOAD_TIMEOUT=300

# ============================================================
# NER Processing Configuration
# ============================================================
# Maximum number of texts per batch request
MAX_BATCH_SIZE=100

# Default confidence threshold (0.0-1.0)
DEFAULT_CONFIDENCE_THRESHOLD=0.85

# Aggregation strategy for entity tokens
# Options: simple, first, average, max, none
DEFAULT_AGGREGATION_STRATEGY=simple

# ============================================================
# Performance Configuration
# ============================================================
# Number of worker processes
WORKERS=1

# Enable/disable GPU acceleration (requires CUDA setup)
USE_GPU=false

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=10

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# ============================================================
# Cache Configuration
# ============================================================
# Enable response caching
ENABLE_CACHE=false

# Cache backend (memory, redis)
CACHE_BACKEND=memory

# Redis configuration (if using redis cache)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache TTL (seconds)
CACHE_TTL=3600

# ============================================================
# CORS Configuration
# ============================================================
# Allowed origins (comma-separated)
# Use * for all origins (not recommended for production)
CORS_ORIGINS=*

# Allowed methods
CORS_METHODS=GET,POST,OPTIONS

# Allowed headers
CORS_HEADERS=*

# ============================================================
# API Security
# ============================================================
# Enable API key authentication
ENABLE_API_KEY=false

# API key (set this in production!)
API_KEY=your-secret-api-key-here

# Rate limiting
ENABLE_RATE_LIMIT=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=3600

# ============================================================
# Monitoring & Metrics
# ============================================================
# Enable Prometheus metrics endpoint
ENABLE_METRICS=false
METRICS_PORT=9090

# Enable health check endpoint
ENABLE_HEALTH_CHECK=true

# ============================================================
# Storage Configuration
# ============================================================
# Hugging Face cache directory
HF_HOME=/root/.cache/huggingface
TRANSFORMERS_CACHE=/root/.cache/huggingface

# Model download source
# Options: huggingface, local
MODEL_SOURCE=huggingface

# Local model path (if MODEL_SOURCE=local)
LOCAL_MODEL_PATH=/models/dictabert-ner

# ============================================================
# Development/Debug Configuration
# ============================================================
# Enable debug mode (more verbose logging)
DEBUG=false

# Enable API documentation endpoints
ENABLE_DOCS=true

# Pretty print JSON responses
JSON_PRETTY_PRINT=false

# Enable request logging
LOG_REQUESTS=true

# ============================================================
# Integration Configuration
# ============================================================
# Memory system connection (if integrating)
MEMORY_SYSTEM_URL=

# Database connection (for entity storage)
DATABASE_URL=

# Message queue (for async processing)
MESSAGE_QUEUE_URL=

# ============================================================
# Docker-Specific Configuration
# ============================================================
# Timezone
TZ=Asia/Jerusalem

# Python configuration
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ============================================================
# Advanced Configuration
# ============================================================
# Custom entity types (comma-separated)
# Leave empty to use default: PER,ORG,LOC,GPE,TIMEX,TTL,FAC,WOA,EVE
CUSTOM_ENTITY_TYPES=

# Minimum entity length (characters)
MIN_ENTITY_LENGTH=2

# Maximum entity length (characters)
MAX_ENTITY_LENGTH=100

# Enable entity normalization
ENABLE_ENTITY_NORMALIZATION=true

# Enable confidence calibration
ENABLE_CONFIDENCE_CALIBRATION=false
